---
layout: default
title: How To Blog With Emacs Jeklly
---
<div id="outline-container-org6e3e0b4" class="outline-2">
<h2 id="org6e3e0b4"><span class="section-number-2">1.</span> DOOM Emacs installation on Windows</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org972a901" class="outline-3">
<h3 id="org972a901"><span class="section-number-3">1.1.</span> install Emacs</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<a href="https://www.gnu.org/software/emacs/download.html">Emacs download and install</a>
</p>
</div>
<div id="outline-container-org0d64253" class="outline-4">
<h4 id="org0d64253"><span class="section-number-4">1.1.1.</span> org code &lt;s TAB does not work</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
The &lt;s TAB expansion is part of the org-tempo package.
</p>

<div class="org-src-container">
<pre class="src src-nil">;; Set up package archives (MELPA and others)
(require 'package)
(setq package-archives '(("melpa" . "https://melpa.org/packages/")))
(package-initialize)

(require 'package)
(setq package-archives '(("melpa" . "https://melpa.org/packages/")))

;; Install use-package if it's not already installed
(unless (package-installed-p 'use-package)
  (package-refresh-contents) ;; refresh package list
  (package-install 'use-package))

;; Always ensure that use-package is available
(eval-when-compile
  (require 'use-package))

(use-package org
  :ensure t
  :config
  (require 'org-tempo))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org84a0386" class="outline-3">
<h3 id="org84a0386"><span class="section-number-3">1.2.</span> install Git</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<a href="https://git-scm.com/downloads">Git download</a>
</p>
</div>
</div>
<div id="outline-container-org8603d25" class="outline-3">
<h3 id="org8603d25"><span class="section-number-3">1.3.</span> install ripgrep</h3>
<div class="outline-text-3" id="text-1-3">
<p>
<a href="https://github.com/BurntSushi/ripgrep/releases">ripgrep</a>
</p>

<p>
<code>ripgrep-14.1.1-x86_64-pc-windows-gnu.zip</code>
</p>
</div>
</div>
<div id="outline-container-org61202c6" class="outline-3">
<h3 id="org61202c6"><span class="section-number-3">1.4.</span> install find</h3>
<div class="outline-text-3" id="text-1-4">
<p>
<a href="https://github.com/sharkdp/fd/releases">fd</a>
</p>

<p>
<code>fd-v10.2.0-x86_64-pc-windows-gnu.zip</code>
</p>
</div>
</div>
<div id="outline-container-org4b29365" class="outline-3">
<h3 id="org4b29365"><span class="section-number-3">1.5.</span> set up user environment variable</h3>
<div class="outline-text-3" id="text-1-5">
<div class="org-src-container">
<pre class="src src-nil">$ echo $PATH
/e/Emacs/ql143/bin:/e/Emacs/ql143/bin::/e/Emacs/emacs-28.1/bin:/e/Emacs/fd:/e/Emacs/ripgrep

$ pwd
/e/Emacs

$ ls -l
total 136
-rwxr-xr-x 1 SouthernPark 197121 124642 Dec 22  2022 Uninstall.exe*
drwxr-xr-x 1 SouthernPark 197121      0 Dec 22  2022 emacs-28.1/
drwxr-xr-x 1 SouthernPark 197121      0 Apr 19 17:41 fd/
drwxr-xr-x 1 SouthernPark 197121      0 Apr 19 17:52 ql143/
drwxr-xr-x 1 SouthernPark 197121      0 Apr 19 17:38 ripgrep/

$ echo $HOME
/e/Emacs/ql143

</pre>
</div>
</div>
</div>
<div id="outline-container-orgf92efe2" class="outline-3">
<h3 id="orgf92efe2"><span class="section-number-3">1.6.</span> install Doom</h3>
<div class="outline-text-3" id="text-1-6">
<p>
<a href="https://github.com/doomemacs/doomemacs">doom emacs</a>
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp" id="org9e6bd0a"><span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> <span style="color: #dcaeea;">doom-font</span> <span style="color: #c678dd;">(</span><span style="color: #a9a1e1;">font-spec</span> <span style="color: #c678dd;">:size</span> <span style="color: #da8548; font-weight: bold;">25</span> <span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org585f7b6" class="outline-3">
<h3 id="org585f7b6"><span class="section-number-3">1.7.</span> doom noted</h3>
<div class="outline-text-3" id="text-1-7">
<div class="org-src-container">
<pre class="src src-nil">But before you doom yourself, here are some things you should know:

1. Don't forget to run 'doom sync' and restart Emacs after modifying init.el or
   packages.el in ~/.config/doom. This is never necessary for config.el.

2. If something goes wrong, run `doom doctor` to diagnose common issues with
   your environment, setup, and config.

3. Use 'doom upgrade' to update Doom. Doing it any other way will require
   additional steps (see 'doom help upgrade').

4. Access Doom's documentation from within Emacs via 'SPC h d h' or 'C-h d h'
   (or 'M-x doom/help').

Have fun!

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org736c7a1" class="outline-2">
<h2 id="org736c7a1"><span class="section-number-2">2.</span> Jekyll install on WSL2</h2>
<div class="outline-text-2" id="text-2">
<p>
Windows is not an officially-supported platform.
Therefore use WSL2 and Ubuntu to hold Jekyll.
<a href="https://learn.microsoft.com/en-us/windows/wsl/install">WSL2</a>
<a href="https://jekyllrb.com/docs/installation/ubuntu/">Install Jekyll on Ubuntu</a>
</p>

<div class="org-src-container">
<pre class="src src-nil" id="orgc3ab2d4">root@LAPTOP-FOPVC68I:/mnt/e/Emacs/ql143/blog_project# jekyll new docs
root@LAPTOP-FOPVC68I:/mnt/e/Emacs/ql143/blog_project# ls
docs org

root@LAPTOP-FOPVC68I:/mnt/e/Emacs/ql143/blog_project/docs# bundle exec jekyll serve
</pre>
</div>
</div>
</div>
<div id="outline-container-org58e5484" class="outline-2">
<h2 id="org58e5484"><span class="section-number-2">3.</span> Export org to Jkeyll</h2>
<div class="outline-text-2" id="text-3">
<p>
<a href="https://orgmode.org/worg/org-tutorials/org-jekyll.html">Using org to Blog with Jekyll</a>
</p>
<div class="org-src-container">
<pre class="src src-nil">SouthernPark.github.io/
├── README.md
├── docs
│   ├── 404.html
│   ├── Gemfile
│   ├── Gemfile.lock
│   ├── _config.yml
│   ├── _posts
│   │   └── 2021-04-07-monte_carlo.markdown
│   ├── _site
│   ├── about.markdown
│   ├── assets
│   │   ├── css
│   │   │   ├── jsxgraph.css
│   │   │   └── result_display.css
│   │   └── js
│   │       ├── OrbitControls.js
│   │       ├── jsxgraphcore.js
│   │       └── three.js
│   ├── index.html
│   ├── index.markdown.bak
│   └── pages                                            &lt;&lt;&lt; org export the pages here
│       └── how-to-blog-with-Emacs-Jeklly.html
└── org
    ├── _posts                                          
    ├── index.org                                       &lt;&lt;&lt; index article
    ├── index.org.bak
    └── pages                                           &lt;&lt;&lt; self created, to page org articles here
        └── how-to-blog-with-Emacs-Jeklly.org
</pre>
</div>

<div class="org-src-container">
<pre class="src src-nil" id="org8507b7a">(setq org-publish-project-alist
      '(

  ("org-ianbarton"
          ;; Path to your org files.
          :base-directory "~/SouthernPark.github.io/org/"
          :base-extension "org"

          ;; Path to your Jekyll project.
          :publishing-directory "~/SouthernPark.github.io/docs/"
          :recursive t
          :publishing-function org-html-publish-to-html
          :headline-levels 4
          :html-extension "html"
          :body-only t ;; Only export section between &lt;body&gt; &lt;/body&gt;
    )


    ("org-static-ian"
          :base-directory "~/SouthernPark.github.io/org/"
          :base-extension "css\\|js\\|png\\|jpg\\|gif\\|pdf\\|mp3\\|ogg\\|swf\\|php"
          :publishing-directory "~/SouthernPark.github.io/"
          :recursive t
          :publishing-function org-publish-attachment)

    ("ian" :components ("org-ianbarton" "org-static-ian"))

))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdef20e6" class="outline-2">
<h2 id="orgdef20e6"><span class="section-number-2">4.</span> <span class="todo TODO">TODO</span> Org File Format to Fit Jeklly</h2>
<div class="outline-text-2" id="text-4">
<p>
Jekyll requires the YAML &#x2014; to be at the top of the generated HTML
The current solution is diable the TOC exporting. Need to find a way to customize the location of TOC
</p>
<div class="org-src-container">
<pre class="src src-nil">#+STARTUP: showall indent
#+STARTUP: hidestars
#+TOC: nil  ;; Disable table of contents by default
#+OPTIONS: toc:nil  ;; Disable TOC in HTML export

#+BEGIN_EXPORT html
---
layout: default
title: How To Blog With Emacs Jeklly
---
#+END_EXPORT

</pre>
</div>
</div>
</div>
<div id="outline-container-org2439dea" class="outline-2">
<h2 id="org2439dea"><span class="section-number-2">5.</span> Jeklly on Github</h2>
<div class="outline-text-2" id="text-5">
<p>
<a href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/creating-a-github-pages-site-with-jekyll">Github Pages</a>
</p>
</div>
</div>
<div id="outline-container-org1dd5b8e" class="outline-2">
<h2 id="org1dd5b8e"><span class="section-number-2">6.</span> Jeklly tricks</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org8f949c6" class="outline-3">
<h3 id="org8f949c6"><span class="section-number-3">6.1.</span> fix the navigation bar</h3>
<div class="outline-text-3" id="text-6-1">
<p>
when you add more dir in the site at the same level like _post, _site
The nav bar will also include the pages in those dir.
To make things clean, you can set the following to fix nav bar
in _config.yml
</p>
<div class="org-src-container">
<pre class="src src-nil">header_pages:
  - about.markdown
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9bfb2fc" class="outline-2">
<h2 id="org9bfb2fc"><span class="section-number-2">7.</span> Corner cases</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org4dedaa0" class="outline-3">
<h3 id="org4dedaa0"><span class="section-number-3">7.1.</span> \{\{ or not \}\} better not appear because of they are special char</h3>
<div class="outline-text-3" id="text-7-1">
<p>
Jekyll (via Liquid), {{ &#x2026; }} is used to output variables, so using them directly in your HTML (especially for things like math expressions, code snippets, or data) will cause errors unless you escape or suppress them.
</p>

<p>
one way is to add space amongthem
</p>

<p>
Another way is to use the following:
{% raw %}
{{1, 2, 3}} is a set of values
{% endraw %}
</p>
</div>
</div>
<div id="outline-container-org8a02993" class="outline-3">
<h3 id="org8a02993"><span class="section-number-3">7.2.</span> Org export will only generate html files once the org file is modified</h3>
<div class="outline-text-3" id="text-7-2">
<p>
To avoid this, you can delete the org export timestamp in the following file:
</p>

<p>
~/.emacs.d/.local/cache/org/timestamps/
</p>
<div class="org-src-container">
<pre class="src src-nil">(setq org-publish-cache (make-hash-table :test 'equal :weakness nil :size 100))
(puthash ":project:" "org-ianbarton" org-publish-cache)
(puthash ":cache-file:" "./.emacs.d/.local/cache/org/timestamps/org-ianbarton.cache" org-publish-cache)

&lt;&lt;&lt; delete from here
(puthash "./SouthernPark.github.io/org/index.org" '(:crossrefs (((other "OTHER") . 241588112) ((headline "OTHER") . 241588112) ((other "[[FILE:PAGES/HOW-TO-BLOG-WITH-EMACS-JEKLLY.ORG][BLOGS" "WITH" "EMACS" "ORG" "MODE," "JEKLLY" "AND" "GITHUB" "PAGES]]") . 133800015) ((headline "[[FILE:PAGES/HOW-TO-BLOG-WITH-EMACS-JEKLLY.ORG][BLOGS" "WITH" "EMACS" "ORG" "MODE," "JEKLLY" "AND" "GITHUB" "PAGES]]") . 133800015) ((other "[[FILE:~/ORG_PRIVATE_REPO/APPLICATIONS.ORG][APPLICATION]]") . 66852479) ((headline "[[FILE:~/ORG_PRIVATE_REPO/APPLICATIONS.ORG][APPLICATION]]") . 66852479) ((other "[[FILE:~/ORG_PRIVATE_REPO/VISA.ORG][US" "VISA" "INFO" "(CPT/OPT/H1B)]]") . 15348691) ((headline "[[FILE:~/ORG_PRIVATE_REPO/VISA.ORG][US" "VISA" "INFO" "(CPT/OPT/H1B)]]") . 15348691) ((other "PROGRAMMING" "LANGUAGE") . 7219876) ((headline "PROGRAMMING" "LANGUAGE") . 7219876) ((other "[[FILE:PAGES/PROGRAMMING_LANGUAGE/C++.ORG][C++]]") . 252688390) ((headline "[[FILE:PAGES/PROGRAMMING_LANGUAGE/C++.ORG][C++]]") . 252688390) ((other "OPERATING" "SYSTEM") . 98189774) ((headline "OPERATING" "SYSTEM") . 98189774) ((other "[[FILE:PAGES/OS/XV6/XV6.ORG][MIT" "6.S081" "XV6" "OS" "WITH" "RISCV" "CPU]]") . 149546473) ((headline "[[FILE:PAGES/OS/XV6/XV6.ORG][MIT" "6.S081" "XV6" "OS" "WITH" "RISCV" "CPU]]") . 149546473) ((other "[[FILE:~/ORG_PRIVATE_REPO/BEHAVIOR_QUESTION.ORG][BEHAVIOR" "QUESTION]]") . 170993380) ((headline "[[FILE:~/ORG_PRIVATE_REPO/BEHAVIOR_QUESTION.ORG][BEHAVIOR" "QUESTION]]") . 170993380) ((other "[[FILE:PAGES/ALGORITHM/ALGORITHM.ORG][ALGORITHM]]") . 163051564) ((headline "[[FILE:PAGES/ALGORITHM/ALGORITHM.ORG][ALGORITHM]]") . 163051564))) org-publish-cache)
(puthash "X7463dbcc975a05c0934dfa69a0654651a15c97b7" '(26687 52976 0 0) org-publish-cache)

</pre>
</div>
</div>
</div>
</div>
